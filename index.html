<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
    <title>Нетология ДПО — Telegram Mini‑app</title>
    <!-- Telegram WebApp SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <!-- Tailwind (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React 18 UMD -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel for in-browser JSX transform (dev/proto only) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
      :root { --sab: env(safe-area-inset-bottom); }
    </style>
  </head>
  <body class="min-h-screen bg-white">
    <div id="root"></div>

    <script type="text/babel">
      const { useEffect, useMemo, useState } = React;

      // =====================
      // BRAND (Netology look)
      // =====================
      const BRAND = {
        primary: "#f35b51",
        text: { base: "#323232", heading: "#000000" },
        accent: { info: "#00D2FF", success: "#74A333", danger: "#C52524" },
        neutral: { border: "#CCCCCC", bgCard1: "#F5F5F5", bgCard2: "#D4E4FB", bgCard3: "#D4F6EC" },
      };

      // =====================
      // SETTINGS (runtime-configurable)
      // =====================
      const SETTINGS = {
        manager: { tg_username: "@netology_vo" },
        webinars_url: "https://netology.ru/free/degree",
        telegram_channel: "@netology_degree",
        legal: {
          inn: "7726464125",
          address: "117105, Россия, г. Москва, ш. Варшавское, д. 1, стр. 6, помещ. 2/3",
        },
        logoSrc: "", // URL or data URI
        logoSvg: "", // raw SVG markup string
      };

      // =====================
      // Telegram helpers (WebApp compliance)
      // =====================
      const getTG = () => (typeof window !== 'undefined' ? window?.Telegram?.WebApp : undefined);
      const openUrl = (url) => {
        const tg = getTG();
        if (tg?.openLink) tg.openLink(url, { try_instant_view: false });
        else window.open(url, '_blank', 'noopener,noreferrer');
      };
      const openTelegram = (url) => {
        const tg = getTG();
        if (tg?.openTelegramLink) tg.openTelegramLink(url);
        else window.open(url, '_blank', 'noopener,noreferrer');
      };

      // Haptics
      const haptic = {
        light: () => getTG()?.HapticFeedback?.impactOccurred?.('light'),
        selection: () => getTG()?.HapticFeedback?.selectionChanged?.(),
        success: () => getTG()?.HapticFeedback?.notificationOccurred?.('success'),
      };

      // Auto-theme (reads Telegram themeParams with fallbacks to BRAND)
      function getThemeFromTG() {
        const p = getTG()?.themeParams || {};
        return {
          bg: p.bg_color || '#FFFFFF',
          bgSecondary: p.secondary_bg_color || BRAND.neutral.bgCard1,
          text: p.text_color || BRAND.text.base,
          heading: p.text_color || BRAND.text.heading,
          hint: p.hint_color || '#6b6b6b',
          link: p.link_color || BRAND.primary,
          border: p.section_separator_color || BRAND.neutral.border,
          button: BRAND.primary,
          buttonText: p.button_text_color || '#FFFFFF',
          chip1: BRAND.neutral.bgCard2, // голубая
          chip2: BRAND.neutral.bgCard3, // зелёная
        };
      }

      function useTelegramTheme() {
        const [theme, setTheme] = useState(getThemeFromTG());
        useEffect(() => {
          const tg = getTG();
          if (!tg) return;
          const onChange = () => setTheme(getThemeFromTG());
          tg.onEvent?.('themeChanged', onChange);
          return () => tg.offEvent?.('themeChanged', onChange);
        }, []);
        return theme;
      }

      // =====================
      // Typograph helpers (RU)
      // =====================
      const NBSP = '\u00A0';
      function ruTypo(str) {
        if (!str || typeof str !== 'string') return str;
        let s = str;
        // 1) Неразрывный пробел после одно\- и некоторых двубуквенных предлогов/союзов
        s = s.replace(/(^|[\s(«])([ВвКкСсУуОоИиАа])\s+(?=\S)/g, `$1$2${NBSP}`);
        s = s.replace(/(^|[\s(«])((?:из|за|на|по|от|до|об))\s+(?=\S)/gi, `$1$2${NBSP}`);
        // 2) Дефис на тире
        s = s.replace(/\s+-\s+/g, ' — ');
        // 3) Неразрывный пробел между числом и ед. измерения/знаком валюты/процентом
        s = s.replace(/(\d)\s+(₽|%)/g, `$1${NBSP}$2`);
        s = s.replace(/(\d)\s+(мес)/gi, `$1${NBSP}$2`);
        return s;
      }
      const T = ({ children }) => (typeof children === 'string' ? ruTypo(children) : children);

      // =====================
      // DATA — Programs
      // =====================
      const PROGRAMS = [
        {
          id: 'dpo-lead-future',
          title: 'Руководитель будущего: адаптация к новым технологиям и управление результатами',
          partners: ['РЭУ им. Г.В. Плеханова'],
          start_date: '2025-11-10',
          duration_months_est: 5,
          price_full_rub: 219600,
          price_from_per_month_rub: 9630,
          landing_url: 'https://netology.ru/programs/upravlenie-rezultatami',
          audience: [
            'Руководителям и тимлидам, которые хотят выстроить управление по результатам',
            'Специалистам, растущим в менеджеры и лиды',
            'Предпринимателям, внедряющим data-driven практики',
          ],
          diploma: 'Два диплома о профессиональной переподготовке: РЭУ им. Г.В. Плеханова и Нетологии',
          learn: [
            'Метрики, KPI, OKR и управление по результатам',
            'Инструменты адаптации к ИИ и новым технологиям',
            'Коммуникация и проектное управление в условиях изменений',
          ],
          about:
            'Программа для лидеров, которым нужно масштабировать результат и встроить новые технологии в ежедневные процессы. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
        {
          id: 'dpo-product-marketing',
          title: 'Стратегии развития продукта: управление продажами и клиентским опытом',
          partners: ['РАНХиГС'],
          start_date: '2025-11-05',
          duration_months_est: 5,
          price_full_rub: 368100,
          price_from_per_month_rub: 16145,
          landing_url: 'https://netology.ru/programs/strategii-razvitiya-produkta',
          audience: [
            'Руководителям и собственникам, кто отвечает за рост продукта',
            'Продакт-менеджерам и маркетологам, которым нужны фреймворки PMM',
            'Тем, кто строит стратегию и управляет клиентским опытом',
          ],
          diploma:
            'Диплом о профессиональной переподготовке Нетологии и удостоверение о повышении квалификации РАНХиГС',
          learn: [
            'Стратегия продукта и управление воронкой продаж',
            'Сегментация, JTBD и Customer Journey',
            'Юнит-экономика и product analytics',
          ],
          about:
            'Фокус на стратегии и росте: выстраиваем системный product-подход от исследований до монетизации. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
        {
          id: 'dpo-python-mfti',
          title: 'Python: от кода к стартапу',
          partners: ['МФТИ'],
          start_date: '2025-10-20',
          duration_months_est: 7,
          price_full_rub: 158400,
          price_from_per_month_rub: 6947,
          landing_url: 'https://netology.ru/programs/razrabotchik-na-python-s-mfti',
          audience: [
            'Новичкам, которые хотят войти в разработку на Python',
            'Аналитикам и инженерам, автоматизирующим задачи и скрипты',
            'Специалистам смежных областей (QA, DevOps, BI), кто усиливает навыки кодинга',
          ],
          diploma: 'Два диплома о профессиональной переподготовке: МФТИ и Нетологии',
          learn: [
            'Основы Python, ООП, работа с API и БД',
            'Web-разработка/скрипты/боты, деплой',
            'От идеи до MVP: проект и питч-документация',
          ],
          about:
            'Путь от базового коду до работающего прототипа: соберёте свой проект и научитесь презентовать результат. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
        {
          id: 'dpo-ai-pm-mfti',
          title: 'Руководитель проектов в области ИИ',
          partners: ['МФТИ'],
          start_date: '2025-12-08',
          duration_months_est: 3,
          price_full_rub: 114700,
          price_from_per_month_rub: 5031,
          landing_url:
            'https://netology.ru/programs/rukovoditel-proektov-v-oblasti-iskusstvennogo-intellekta-dpo-mfti',
          audience: [
            'Менеджерам и продактам, запускающим AI-инициативы',
            'Руководителям в бизнесе и госсекторе, внедряющим ИИ в процессы',
            'Тем, кто координирует команды ML/DS/интеграции',
          ],
          diploma: 'Два удостоверения о повышении квалификации: МФТИ и Нетологии',
          learn: [
            'Цикл AI-проекта: бизнес-цель → данные → модель → внедрение',
            'Оценка эффекта, рисков и соответствия',
            'Коммуникация между бизнесом и ML-командой',
          ],
          about:
            'Системный менеджмент AI-проектов: от постановки задачи до внедрения в контур компании. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
        {
          id: 'dpo-analyst-mfti',
          title: 'Аналитик данных',
          partners: ['МФТИ'],
          start_date: '2025-10-20',
          duration_months_est: 10,
          price_full_rub: 200250,
          price_from_per_month_rub: 8343,
          landing_url: 'https://netology.ru/programs/professiya-analitik-dannyh-mfti',
          audience: [
            'Тем, кто любит цифры и хочет развиваться на стыке IT и бизнеса',
            'Новичкам, которые хотят получить профессию в аналитике',
            'Практикам, кому нужны инструменты аналитики для более сложных задач',
            'Тем, кто уже работает с данными и планирует смену траектории',
          ],
          diploma: 'Два диплома о профессиональной переподготовке: МФТИ и Нетологии',
          learn: [
            'SQL, Python для аналитики, визуализация',
            'AB-тесты, статистика и продуктовые метрики',
            'Дашборды и презентация инсайтов',
          ],
          about:
            'Освоите инструменты аналитика и соберёте портфолио из практических кейсов. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
        {
          id: 'dpo-pm-it-ranhigs',
          title: 'Управление проектами и командами в IT',
          partners: ['РАНХиГС'],
          start_date: '2025-11-17',
          duration_months_est: 7,
          price_full_rub: 200250,
          price_from_per_month_rub: 8343,
          landing_url: 'https://netology.ru/programs/professiya-menedzher-proektов-v-it-ranhigs',
          audience: [
            'Действующим и начинающим проджект-менеджерам в IT',
            'Тимлидам и руководителям, которым нужно прокачать управление командой',
            'Специалистам смежных ролей, переходящим в управление проектами',
          ],
          diploma:
            'Диплом о профессиональной переподготовке Нетологии и удостоверение о повышении квалификации РАНХиГС',
          learn: [
            'Планирование, риски, бюджет и коммуникации',
            'Agile/Waterfall/гибридные подходы',
            'Управление командой и стейкхолдерами',
          ],
          about:
            'Выстроите системное управление проектами и командой на практике. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
        {
          id: 'dpo-devsecops-hse',
          title: 'DevSecOps',
          partners: ['НИУ ВШЭ'],
          start_date: '2025-10-27',
          duration_months_est: 6,
          price_full_rub: 179600,
          price_from_per_month_rub: 7875,
          landing_url: 'https://netology.ru/programs/devsecops',
          audience: [
            'DevOps/SRE-инженерам, кто интегрирует безопасность на всех этапах SDLC',
            'Backend/Platform инженерам, отвечающим за релизы и инфраструктуру',
            'SEC-специалистам, которым нужно говорить с Dev на одном языке',
          ],
          diploma: 'Два диплома о профессиональной переподготовке: НИУ ВШЭ и Нетологии',
          learn: [
            'Практики безопасной разработки и CI/CD',
            'Угрозы, тестирование и мониторинг безопасности',
            'Построение secure-pipeline и культура DevSecOps',
          ],
          about:
            'Интегрируете безопасность в процессы DevOps и отработаете инструменты на кейсах. Программа обновляется каждый набор и даёт самые актуальные знания.',
        },
      ];

      // =====================
      // Helpers
      // =====================
      const rub = (n) => new Intl.NumberFormat('ru-RU').format(n);
      const dstr = (s) => new Date(s).toLocaleDateString('ru-RU', { day: '2-digit', month: 'long', year: 'numeric' });

      function Badge({ children, theme }) {
        return (
          <span className="px-2 py-0.5 rounded-full text-xs" style={{ background: theme.chip1, color: '#000000' }}>
            <T>{children}</T>
          </span>
        );
      }

      // Modal wrapper integrating Telegram BackButton
      function ModalWithTGBack({ title, onClose, children, theme }) {
        useEffect(() => {
          const tg = getTG();
          if (!tg?.BackButton) return;
          try {
            tg.BackButton.show();
            const handler = () => { haptic.selection?.(); onClose?.(); };
            tg.onEvent?.('backButtonClicked', handler);
            return () => { tg.BackButton.hide(); tg.offEvent?.('backButtonClicked', handler); };
          } catch {}
        }, [onClose]);

        return (
          <div className="p-4 md:p-6">
            <div className="flex items-start justify-between gap-4">
              <h4 className="text-base md:text-lg font-semibold" style={{ color: theme?.heading || BRAND.text.heading }}><T>{title}</T></h4>
              <button onClick={() => { haptic.light(); onClose(); }} className="text-sm" style={{ color: theme?.text || BRAND.text.base }}>
                Закрыть
              </button>
            </div>
            {children}
          </div>
        );
      }

      function ProgramCard({ p, onCompareToggle, selected, theme }) {
        const [open, setOpen] = useState(false);
        return (
          <div className="rounded-2xl p-4 shadow-sm border" style={{ borderColor: theme.border, background: theme.bg }}>
            <div className="flex items-start justify-between gap-3">
              <div>
                <h3 className="text-lg font-semibold" style={{ color: theme.heading }}><T>{p.title}</T></h3>
                <div className="mt-1 text-sm" style={{ color: theme.text }}><T>Партнёр:</T> <T>{p.partners.join(', ')}</T></div>
                <div className="mt-2 flex flex-wrap gap-2">
                  <Badge theme={theme}>Старт: {dstr(p.start_date)}</Badge>
                  <Badge theme={theme}>Длительность: {p.duration_months_est} мес</Badge>
                  <Badge theme={theme}>Цена: {rub(p.price_full_rub)} ₽</Badge>
                  <Badge theme={theme}>От {rub(p.price_from_per_month_rub)} ₽/мес</Badge>
                </div>
              </div>
              <button onClick={() => { haptic.selection(); onCompareToggle(p.id); }} className={`px-3 py-2 rounded-xl text-sm border ${selected ? 'font-semibold' : ''}`} style={{ borderColor: theme.border }}>
                <T>{selected ? 'В сравнении' : 'Сравнить'}</T>
              </button>
            </div>

            <div className="mt-3 grid gap-2">
              <div className="text-sm" style={{ color: theme.text }}>
                <span className="font-medium"><T>Кому подойдёт:</T></span>
                <ul className="list-disc ml-5 mt-1 space-y-1">
                  {p.audience.map((a, i) => <li key={i}><T>{a}</T></li>)}
                </ul>
              </div>
            </div>

            <div className="mt-4 flex flex-wrap gap-2">
              <button onClick={() => { haptic.light(); openUrl(p.landing_url); }} className="px-4 py-2 rounded-xl text-sm" style={{ background: BRAND.primary, color: 'white' }}>
                Посмотреть программу
              </button>
              <button onClick={() => { haptic.light(); setOpen(true); }} className="px-4 py-2 rounded-xl text-sm border" style={{ borderColor: theme.border }}>
                Подробнее
              </button>
              <button onClick={() => { haptic.light(); openTelegram(`https://t.me/${SETTINGS.manager.tg_username.replace('@', '')}`); }} className="px-4 py-2 rounded-xl text-sm border" style={{ borderColor: theme.border }}>
                Написать менеджеру
              </button>
            </div>

            {open && (
              <div className="fixed inset-0 z-50 flex items-end md:items-center justify-center">
                <div className="absolute inset-0 bg-black/30" onClick={() => setOpen(false)} />
                <div className="relative w-full md:max-w-2xl md:rounded-2xl md:shadow-xl md:border" style={{ background: theme.bg, borderColor: theme.border }}>
                  <ModalWithTGBack title={p.title} onClose={() => setOpen(false)} theme={theme}>
                    <div className="mt-3 text-sm" style={{ color: theme.text }}><T>{p.about}</T></div>
                    <div className="mt-4">
                      <div className="text-sm font-medium" style={{ color: theme.heading }}><T>Чему научитесь</T></div>
                      <ul className="list-disc ml-5 mt-1 space-y-1 text-sm">{p.learn.map((x, i) => <li key={i}><T>{x}</T></li>)}</ul>
                    </div>
                    <div className="mt-4 text-sm" style={{ color: theme.text }}>
                      <span className="font-medium"><T>Документ:</T></span> <T>{p.diploma}</T>
                    </div>
                    <div className="mt-5 flex gap-2">
                      <button onClick={() => { haptic.light(); openUrl(p.landing_url); }} className="px-4 py-2 rounded-xl text-sm" style={{ background: BRAND.primary, color: 'white' }}>
                        Посмотреть программу
                      </button>
                      <button onClick={() => { haptic.light(); openTelegram(`https://t.me/${SETTINGS.manager.tg_username.replace('@', '')}`); }} className="px-4 py-2 rounded-xl text-sm border" style={{ borderColor: theme.border }}>
                        Написать менеджеру
                      </button>
                    </div>
                  </ModalWithTGBack>
                </div>
              </div>
            )}
          </div>
        );
      }

      // Responsive Compare: cards on mobile, table on desktop
      function CompareTable({ ids, onReset, theme }) {
        const data = PROGRAMS.filter((p) => ids.includes(p.id));
        if (data.length === 0) return null;
        return (
          <div className="rounded-2xl p-4 border" style={{ borderColor: theme.border, background: theme.bg }}>
            <div className="flex items-center justify-between">
              <h4 className="text-base font-semibold" style={{ color: theme.heading }}><T>Сравнение программ</T></h4>
              <button onClick={() => { haptic.selection(); onReset(); }} className="px-3 py-1.5 rounded-xl text-sm border" style={{ borderColor: theme.border }}><T>Сбросить</T></button>
            </div>

            {/* Mobile: stacked cards */}
            <div className="md:hidden mt-3 grid gap-3">
              {data.map((p) => (
                <div key={p.id} className="rounded-xl p-3 border" style={{ borderColor: theme.border }}>
                  <div className="text-sm font-semibold" style={{ color: theme.heading }}><T>{p.title}</T></div>
                  <div className="mt-1 grid grid-cols-2 gap-x-3 gap-y-1 text-xs" style={{ color: theme.text }}>
                    <div className="opacity-70"><T>Вуз-партнёр</T></div><div><T>{p.partners.join(', ')}</T></div>
                    <div className="opacity-70"><T>Старт</T></div><div><T>{dstr(p.start_date)}</T></div>
                    <div className="opacity-70"><T>Длительность</T></div><div><T>{p.duration_months_est} мес</T></div>
                    <div className="opacity-70"><T>Цена</T></div><div><T>{rub(p.price_full_rub)} ₽</T></div>
                    <div className="opacity-70"><T>От ₽/мес</T></div><div><T>{rub(p.price_from_per_month_rub)} ₽</T></div>
                    <div className="opacity-70"><T>Документ</T></div><div><T>{p.diploma}</T></div>
                  </div>
                  <div className="mt-2">
                    <div className="text-xs font-medium" style={{ color: theme.heading }}><T>Навыки</T></div>
                    <ul className="list-disc ml-4 mt-1 space-y-0.5 text-xs" style={{ color: theme.text }}>
                      {p.learn.map((skill, i) => <li key={i}><T>{skill}</T></li>)}
                    </ul>
                  </div>
                </div>
              ))}
            </div>

            {/* Desktop: table */}
            <div className="hidden md:block mt-2">
              <table className="w-full text-sm whitespace-normal break-words leading-snug">
                <thead>
                  <tr className="text-left" style={{ color: theme.text }}>
                    <th className="py-2 pr-3 w-[26%]"><T>Программа</T></th>
                    <th className="py-2 pr-3 w-[16%]"><T>Вуз-партнёр</T></th>
                    <th className="py-2 pr-3 w-[12%]"><T>Старт</T></th>
                    <th className="py-2 pr-3 w-[12%]"><T>Длительность</T></th>
                    <th className="py-2 pr-3 w-[12%]"><T>Цена</T></th>
                    <th className="py-2 pr-3 w-[12%]"><T>От ₽/мес</T></th>
                    <th className="py-2 pr-3 w-[30%]"><T>Документ</T></th>
                    <th className="py-2 pr-0 w-[34%]"><T>Навыки</T></th>
                  </tr>
                </thead>
                <tbody>
                  {data.map((p) => (
                    <tr key={p.id} className="border-t align-top" style={{ borderColor: theme.border }}>
                      <td className="py-2 pr-3"><T>{p.title}</T></td>
                      <td className="py-2 pr-3"><T>{p.partners.join(', ')}</T></td>
                      <td className="py-2 pr-3"><T>{dstr(p.start_date)}</T></td>
                      <td className="py-2 pr-3"><T>{p.duration_months_est} мес</T></td>
                      <td className="py-2 pr-3"><T>{rub(p.price_full_rub)} ₽</T></td>
                      <td className="py-2 pr-3"><T>{rub(p.price_from_per_month_rub)} ₽</T></td>
                      <td className="py-2 pr-3"><T>{p.diploma}</T></td>
                      <td className="py-2 pr-0"><ul className="list-disc ml-4">{p.learn.map((s, i) => <li key={i}><T>{s}</T></li>)}</ul></td>
                    </tr>
                  ))}
                </tbody>
              </table>
            </div>
          </div>
        );
      }

      function Filters({ partner, setPartner, theme }) {
        const partners = useMemo(() => {
          const set = new Set();
          PROGRAMS.forEach((p) => p.partners.forEach((x) => set.add(x)));
          return ['Все вузы', ...Array.from(set)];
        }, []);
        return (
          <div className="flex gap-2">
            <select value={partner} onChange={(e) => { haptic.selection(); setPartner(e.target.value); }} className="px-3 py-2 rounded-xl border w-full md:w-1/3" style={{ borderColor: theme.border, background: theme.bg, color: theme.text }}>
              {partners.map((p) => <option key={p} value={p}><T>{p}</T></option>)}
            </select>
          </div>
        );
      }

      // =====================
      // Topbar Logo component (no asset imports)
      // =====================
      function LogoBrand() {
        const theme = useTelegramTheme();
        if (SETTINGS.logoSvg && /^\s*<svg[\s\S]*<\/svg>\s*$/.test(SETTINGS.logoSvg)) {
          return <span className="h-6 inline-flex items-center" dangerouslySetInnerHTML={{ __html: SETTINGS.logoSvg }} />;
        }
        if (SETTINGS.logoSrc) {
          return <img src={SETTINGS.logoSrc} alt="Нетология" className="h-6" />;
        }
        return (
          <span className="text-base font-semibold" style={{ color: theme.heading }}>
            <T>Нетология — программы с вузами</T>
          </span>
        );
      }

      // =====================
      // APP (root component)
      // =====================
      function App() {
        const [partner, setPartner] = useState('Все вузы');
        const [compareIds, setCompareIds] = useState([]);
        const theme = useTelegramTheme();

        useEffect(() => {
          const tg = getTG();
          if (tg) {
            try {
              tg.ready();
              tg.expand?.();
              tg.setHeaderColor?.('bg_color');
              tg.setBackgroundColor?.('secondary_bg_color');
            } catch {}
          }
        }, []);

        const filtered = useMemo(() => PROGRAMS.filter((p) => partner === 'Все вузы' || p.partners.includes(partner)), [partner]);
        const toggleCompare = (id) => setCompareIds((prev) => (prev.includes(id) ? prev.filter((x) => x !== id) : [...prev, id].slice(-3)));

        return (
          <div className="min-h-screen" style={{ background: theme.bgSecondary, color: theme.text }}>
            {/* TOP BAR */}
            <div className="sticky top-0 z-10" style={{ background: theme.bg, borderBottom: `1px solid ${theme.border}` }}>
              <div className="max-w-5xl mx-auto px-4 py-3 flex items-center justify-between">
                <div className="flex items-center gap-2">
                  <LogoBrand />
                </div>
                <button onClick={() => { haptic.light(); openTelegram(`https://t.me/${SETTINGS.manager.tg_username.replace('@', '')}`); }} className="px-3 py-1.5 rounded-xl text-sm" style={{ background: BRAND.primary, color: 'white' }}>
                  <T>Написать менеджеру</T>
                </button>
              </div>
            </div>

            {/* CONTENT */}
            <div className="max-w-5xl mx-auto px-4 py-4 grid gap-4">
              {/* Intro heading */}
              <div className="text-left mb-2">
                <h2 className="text-lg md:text-xl font-semibold" style={{ color: theme.heading }}>
                  <T>Дополнительное профессиональное онлайн-образование в ведущих вузах страны</T>
                </h2>
                <p className="mt-1 text-sm md:text-base" style={{ color: theme.text }}>
                  <T>Чтобы усилить ваше резюме и выделиться на фоне других кандидатов</T>
                </p>
              </div>

              {/* Intro cards */}
              <div className="grid md:grid-cols-2 gap-3">
                <div className="rounded-2xl p-4" style={{ background: theme.chip2, color: '#000000' }}>
                  <div className="text-sm" style={{ color: '#000000' }}><T>Что такое ДПО</T></div>
                  <div className="mt-1 text-xs"><T>Краткие практические программы повышения квалификации или переподготовки. Итог: документ вуза-партнёра и документ Нетологии (в зависимости от программы — диплом о профпереподготовке или удостоверение о повышении квалификации).</T></div>
                </div>
                <div className="rounded-2xl p-4" style={{ background: theme.chip1, color: '#000000' }}>
                  <div className="text-sm" style={{ color: '#000000' }}><T>Формат</T></div>
                  <div className="mt-1 text-xs"><T>Онлайн, записи занятий, гибкий график. Рекомендованная нагрузка: 20–30 ч/нед.</T></div>
                </div>
              </div>

              {/* Filters */}
              <Filters partner={partner} setPartner={setPartner} theme={theme} />

              {/* Compare table */}
              <CompareTable ids={compareIds} onReset={() => setCompareIds([])} theme={theme} />

              {/* Programs list */}
              <div className="grid gap-3">
                {filtered.map((p) => (
                  <ProgramCard key={p.id} p={p} onCompareToggle={toggleCompare} selected={compareIds.includes(p.id)} theme={theme} />
                ))}
              </div>

              {/* Webinars block */}
              <div className="rounded-2xl p-4 border" style={{ borderColor: theme.border, background: theme.bg }}>
                <div className="flex items-center justify-between gap-2">
                  <div>
                    <div className="text-base font-semibold" style={{ color: theme.heading }}><T>Бесплатные вебинары</T></div>
                    <div className="text-xs mt-1" style={{ color: theme.text }}>
                      <T>Регулярные открытые эфиры с преподавателями и командами программ: формат, учебный план, ответы на вопросы. Бесплатно, запись присылаем после эфира.</T>
                    </div>
                  </div>
                  <button onClick={() => { haptic.light(); openUrl(SETTINGS.webinars_url); }} className="px-4 py-2 rounded-xl text-sm" style={{ background: theme.chip2, color: '#000000' }}>
                    <T>Открыть календарь вебинаров</T>
                  </button>
                </div>
              </div>

              {/* Telegram channel block */}
              <div className="rounded-2xl p-4 border text-center" style={{ borderColor: theme.border, background: theme.bg }}>
                <div className="text-base font-semibold mb-1" style={{ color: theme.heading }}><T>Подписывайтесь на Telegram-канал</T></div>
                <div className="text-xs mb-3" style={{ color: theme.text }}><T>Следите за новостями, обновлениями программ и бесплатными мероприятиями.</T></div>
                <button onClick={() => { haptic.light(); openTelegram(`https://t.me/${SETTINGS.telegram_channel.replace('@', '')}`); }} className="px-4 py-2 rounded-xl text-sm" style={{ background: BRAND.primary, color: 'white' }}>
                  <T>Перейти в канал {SETTINGS.telegram_channel}</T>
                </button>
              </div>

              {/* Footer */}
              <div className="pt-6 pb-[calc(40px+var(--sab))] text-center text-xs" style={{ color: theme.text }}>
                <T>Информация, размещённая в приложении, не является публичной офертой. Актуальные условия обучения, стоимость и документы об образовании уточняйте у менеджера.</T>
                <div className="mt-2"><T>ООО «Нетология» · ИНН: {SETTINGS.legal.inn} · Адрес: {SETTINGS.legal.address}</T></div>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById('root'));
      root.render(<App />);
    </script>
  </body>
</html>
